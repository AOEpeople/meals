{% extends '::base.html.twig' %}

{% block body %}
	<div class="container">
		{% include 'MealzAccountingBundle:Accounting/partials:flashMessages.html.twig' %}

		{{ form_start(form) }}
		<div class="row">
			<div class="col-md-4">
				{{ form_row(form.user) }}
			</div>
			<div class="col-md-2">
				{{ form_row(form.amount) }}
			</div>
			<div class="col-md-2">
				{{ form_row(form.save) }}
			</div>
		</div>
		{{ form_rest(form) }}
		{{ form_end(form) }}

		<h1>{{ 'Accounting'|trans({},'general') }} ({{ '%from% to %to%' | trans({
				'%from%': startDay | date('Y-m-d'),
				'%to%': endDay | date('Y-m-d'),
			}, 'general') }})</h1>
		{% for profile in participantList.profiles %}
			<h2>{{ profile.username }} ({{ 'Wallet'|trans }}: {{ wallet.balance(profile)|localizedcurrency('EUR','de') }})</h2>
			{% include 'MealzAccountingBundle:Accounting/partials:participantTable.html.twig' with {
				participations: participantList.participations(profile),
				countAccountableParticipations: participantList.countAccountableParticipations(profile),
			} %}
		{% endfor %}
	</div>

{% endblock %}