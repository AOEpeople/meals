{% extends '::base.html.twig' %}

{% set wrapperClass = 'dish-list' %}

{% block body %}

{% include ':partials:flashMessages.html.twig' %}

{# Set data for table header #}

{% set tableHeader = [{
        'label': 'Title',
        'class': 'dish-title'
    }, {
        'label': 'Category',
        'class': 'dish-category'
    }, {
        'label': 'Actions',
        'class': 'dish-actions'
    }]
%}

{# Set data for table content #}

{% set tableContent = [] %}
{% for dish in dishes %}
    {% set tableContent = [{
        'title': {
            'content': dish.title,
            'class': 'dish-title'
        },
        'category': {
            'content': 'category here',
            'class': 'dish-category'
        },
        'actions': {
            'content': MealzButton.buttonbar('', 'buttonbar-dish-actions', [
                            MealzButton.link('', 'Edit', '', 'transparent', 'glyphicon-pencil'),
                            MealzButton.link('', 'Delete', '', 'transparent', 'glyphicon-remove')
                       ]),
            'class': 'dish-actions'
        }
    }] | merge(tableContent) %}
{% endfor %}

{# Start tempalte #}

{{ MealzHeadline.create(1, 'dishes'|trans({},'general'), '', '', [
    MealzButton.link('', 'Create Dish', '', 'transparent', 'glyphicon-pencil')
], '') }}

{{ MealzTable.create('dish-table', '', tableHeader, tableContent) }}

{% endblock %}