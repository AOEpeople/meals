<template>
  <div class="flex flex-row place-items-center gap-2">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 96 960 960"
      class="h-8 w-8"
      :class="[!errorStates.includes(true) ? '' : 'animate-pulse']"
      :fill="trafficLightColor"
    >
      <path
        v-if="!errorStates.includes(true)"
        d="M236 579q0 60 21.5 103.5T319 758l25 16v-74q0-13 9.5-23t25.5-10q13 0 23 10t10 23v162q0 21-13 33.5T367 908H206q-15 0-24.5-10t-9.5-25q0-13 9.5-23t25.5-10h70l-6-6q-66-56-96.5-117T144 579q0-102 55.5-184T345 272q15-8 29.5 1.5T394 301q3 18-5.5 34T367 360q-62 32-96.5 91T236 579Zm489-7q0-44-23-90.5T644 399l-24-21v73q0 14-10 24t-24 10q-14 0-24.5-10.5T551 450V289q0-20 13-32.5t34-12.5h160q14 0 24 9.5t10 23.5q0 14-10 24.5T758 312h-73l7 8q63 57 94 124t31 128q0 102-53.5 183.5T620 879q-16 9-31.5 0T569 851q-5-18 3-34t24-25q60-31 94.5-90.5T725 572Z"
      />
      <path
        v-else
        d="M480.877 781Q465 781 454 769.877q-11-11.123-11-27Q443 728 454.123 717q11.123-11 27-11Q496 706 507 717.123q11 11.123 11 26Q518 759 506.877 770q-11.123 11-26 11Zm1.948-149q-17.225 0-26.025-8.925-8.8-8.925-8.8-25.883V402q0-14.3 8.975-24.15 8.976-9.85 26.2-9.85 15.225 0 24.525 8.925 9.3 8.925 9.3 24.883V597q0 15.3-9.475 25.15-9.476 9.85-24.7 9.85ZM194 579q0 61.29 26 109.645T301 774v-74q0-12.875 9.87-22.938Q320.74 667 336.07 667q13.905 0 23.917 10.062Q370 687.125 370 700v162q0 20.75-13.688 33.375Q342.625 908 324 908H164.192q-15.917 0-25.555-9.87-9.637-9.87-9.637-25.2 0-12.905 9.85-22.917Q148.7 840 164 840h72q-64-50-99-111t-35-150q0-95 52.5-179T302 272q14-7 29.5 2t19 27q4.5 18-2.13 33.5Q341.741 350 327 357q-57.896 28.59-95.448 89.058Q194 506.526 194 579Zm582-8q0-59.917-26.5-107.959Q723 415 667 378v73q0 13.875-9.588 23.938Q647.825 485 633.912 485 620 485 609.5 474.938 599 464.875 599 451V289q0-19.75 13.125-32.375T645 244h161q13.875 0 23.438 9.87 9.562 9.87 9.562 24.2 0 13.905-9.562 23.917Q819.875 312 806 312h-73q64 50 99.5 111.184Q868 484.367 868 571q0 97.336-53.5 180.668Q761 835 668 880q-16 7-30.5-2t-19-27.5Q615 833 621 817t20-23q58-29 96.5-89.341Q776 644.318 776 571Z"
      />
    </svg>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue';

const props = defineProps<{
  errorStates: boolean[]
}>();

const trafficLightColor = computed(() => {
  return props.errorStates.includes(true) ? 'red' : 'green';
})
</script>